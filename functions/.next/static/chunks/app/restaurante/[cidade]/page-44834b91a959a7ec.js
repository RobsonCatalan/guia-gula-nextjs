(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{1759:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var r=t(5155),s=t(2115),n=t(6766),o=t(6874),i=t.n(o);let l=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().replace(/^-+|-+$/g,""),c={barPub:"Bar & Pub",pizza:"Pizzaria",cafeBakeryDesserts:"Caf\xe9 & P\xe3es & Doces",snacksBurgers:"Lanches & Burgers",barbecueGrill:"Churrasco & Grelhados",pastryShop:"Pastelaria",japanese:"Japon\xeas",italian:"Italiano",mineiro:"Mineiro",arabic:"\xc1rabe",selfServiceBuffet:"Self-service & Buffet",seafood:"Frutos do Mar",mexican:"Mexicano",wineBar:"Wine Bar",chinese:"Chin\xeas",portuguese:"Portugu\xeas",veganVegetarian:"Vegano & Vegetariano",brazilian:"Brasileiro",french:"Franc\xeas",peruvian:"Peruano",spanish:"Espanhol",german:"Alem\xe3o",indian:"Indiano",international:"Internacional",healthyJuices:"Saud\xe1vel & Sucos",beachKiosk:"Quiosques & Barracas",deliGourmet:"Emp\xf3rio & Delicatessen",other:"Outros"};function d(e){let{restaurant:a}=e,{id:t,name:o,logo:d,mainPhoto:u,city:h,rating:m,categories:p=[],reviewCount:x=0}=a,[g,f]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),j=h?"/restaurante/".concat(l(h),"/restaurante/").concat(l(o)):"/restaurante/".concat(l(o));return(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,r.jsxs)("div",{className:"relative h-48 w-full bg-[#FFF8F0]",children:[u&&!g?(0,r.jsx)(n.default,{src:u,alt:"Foto de ".concat(o),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onError:()=>f(!0),priority:!0}):(0,r.jsx)("div",{className:"absolute inset-0 bg-[#F4A261] flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-4xl font-bold",children:o.charAt(0)})}),d&&!v&&(0,r.jsx)("div",{className:"absolute bottom-3 right-3 w-16 h-16 rounded-full overflow-hidden border-2 border-white bg-white",children:(0,r.jsx)(n.default,{src:d,alt:"Logo de ".concat(o),fill:!0,className:"object-contain",onError:()=>b(!0),sizes:"64px"})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-[#4A4A4A] mb-1 truncate",children:o}),m&&m>0?(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(e=>{let a=[];for(let t=0;t<5;t++){let s=Math.max(0,Math.min(1,e-t));a.push((0,r.jsxs)("span",{className:"relative inline-block w-4 h-4 mr-1",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.165 3.584a1 1 0 00.95.69h3.768c.969 0 1.371 1.24.588 1.81l-3.047 2.213a1 1 0 00-.364 1.118l1.165 3.584c.3.921-.755 1.688-1.538 1.118l-3.047-2.213a1 1 0 00-1.176 0l-3.047 2.213c-.783.57-1.838-.197-1.538-1.118l1.165-3.584a1 1 0 00-.364-1.118L2.575 9.011c-.783-.57-.38-1.81.588-1.81h3.768a1 1 0 00.95-.69l1.165-3.584z"})}),s>0&&(0,r.jsx)("span",{className:"absolute top-0 left-0 h-full overflow-hidden",style:{width:"".concat(100*s,"%")},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-[#F4A261]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.165 3.584a1 1 0 00.95.69h3.768c.969 0 1.371 1.24.588 1.81l-3.047 2.213a1 1 0 00-.364 1.118l1.165 3.584c.3.921-.755 1.688-1.538 1.118l-3.047-2.213a1 1 0 00-1.176 0l-3.047 2.213c-.783.57-1.838-.197-1.538-1.118l1.165-3.584a1 1 0 00-.364-1.118L2.575 9.011c-.783-.57-.38-1.81.588-1.81h3.768a1 1 0 00.95-.69l1.165-3.584z"})})})]},t))}return a})(m),(0,r.jsxs)("span",{className:"ml-1 text-sm text-[#4A4A4A]",children:[m.toFixed(1)," (",x," avalia\xe7\xf5es)"]})]}):(0,r.jsx)("p",{className:"text-sm text-[#4A4A4A] mb-2",children:"Sem avalia\xe7\xf5es"}),h&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,r.jsx)("span",{children:h})]}),p.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:p.map(e=>(0,r.jsx)("span",{className:"bg-[#F4A261] text-white text-xs px-2 py-1 rounded",children:c[e]||e},e))}),(0,r.jsx)("div",{className:"flex justify-end mt-2",children:(0,r.jsx)(i(),{href:j,className:"bg-[#D32F2F] !text-white px-4 py-2 rounded-full hover:bg-red-700 transition-colors text-sm font-medium",children:"Ver mais"})})]})]})}},6368:(e,a,t)=>{"use strict";t.d(a,{default:()=>d});var r=t(5155),s=t(2115),n=t(6495),o=t(3433),i=t(1759),l=t(8126),c=t.n(l);function d(e){let{cidade:a}=e,[t,l]=(0,s.useState)([]),{isAppCheckReady:d}=(0,n.u)(),[u,h]=(0,s.useState)(null),[m,p]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),b={"@context":"https://schema.org","@type":"ItemList",itemListElement:t.map((e,a)=>({"@type":"ListItem",position:a+1,item:{"@type":"Restaurant",name:e.name,aggregateRating:{"@type":"AggregateRating",ratingValue:e.rating,bestRating:5,worstRating:1}}}))};(0,s.useEffect)(()=>{!async function(){if(!d){console.log("[ClientComponent] App Check not ready yet, skipping initial fetch."),p(!0);return}p(!0);try{console.log("Buscando restaurantes para: ".concat(a));let e=new Promise((e,a)=>setTimeout(()=>a(Error("Timeout buscando restaurantes")),15e3)),t=(0,o.HQ)(a,null,10),{restaurants:r,lastVisible:s}=await Promise.race([t,e]);l(Array.isArray(r)?r:[]),h((null==s?void 0:s.id)||null),v(!!s&&Array.isArray(r)&&r.length>0),console.log("Encontrados ".concat((null==r?void 0:r.length)||0," restaurantes para ").concat(a))}catch(e){console.error("Erro ao carregar restaurantes:",e),g("N\xe3o foi poss\xedvel carregar os restaurantes. Por favor, tente novamente mais tarde ou verifique sua conex\xe3o."),l([])}finally{p(!1)}}()},[a,d]);let j=async()=>{if(!m&&f&&d)try{p(!0),console.log("Carregando mais restaurantes a partir do documento: ".concat(u));let{restaurants:e,lastVisible:t}=await (0,o.HQ)(a,u,6),r=Array.isArray(e)?e:[];r.length>0?(console.log("Adicionando ".concat(r.length," novos restaurantes")),l(e=>[...e,...r]),t?(h(t.id),v(!0)):v(!1)):(console.log("N\xe3o foram encontrados novos restaurantes"),v(!1))}catch(e){console.error("Erro ao carregar mais restaurantes:",e),g("N\xe3o foi poss\xedvel carregar mais restaurantes. Por favor, tente novamente mais tarde ou verifique sua conex\xe3o."),v(!1)}finally{p(!1)}},w=Array.isArray(t)?t:[];return(0,r.jsxs)(r.Fragment,{children:[t.length>0&&(0,r.jsx)(c(),{children:(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(b)}})}),(0,r.jsxs)("div",{children:[x&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),!d||m&&0===w.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-[#F4A261] border-t-[#D32F2F] rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:d?"Carregando restaurantes...":"Inicializando seguran\xe7a..."})]}):w.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>(0,r.jsx)(i.A,{restaurant:e},e.id))}):(0,r.jsxs)("div",{className:"text-center py-8 bg-[#FFF8F0] rounded-lg border border-[#4A4A4A]/10 p-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-[#F4A261]",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("p",{className:"text-xl font-medium text-[#4A4A4A] mb-2",children:["N\xe3o encontramos restaurantes em ",a]}),(0,r.jsx)("p",{className:"text-[#4A4A4A]/70",children:"Tente buscar por outras cidades ou volte mais tarde quando houver novos restaurantes cadastrados."})]}),f&&(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsx)("button",{onClick:j,disabled:m,className:"bg-[#D32F2F] text-white px-6 py-3 rounded-full hover:bg-red-700 transition-colors disabled:opacity-50",children:m?"Carregando...":"Carregar mais"})})]})]})}},6495:(e,a,t)=>{"use strict";t.d(a,{default:()=>l,u:()=>i});var r=t(5155),s=t(2115),n=t(6104);let o=(0,s.createContext)({isAppCheckReady:!1}),i=()=>(0,s.useContext)(o);function l(e){let{children:a}=e,[t,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{console.log("[FirebaseAppCheckProvider] useEffect triggered, initializing App Check...");try{(0,n.B)()?(console.log("[FirebaseAppCheckProvider] App Check initialization seems successful, setting ready state."),i(!0)):console.error("[FirebaseAppCheckProvider] App Check initialization failed or skipped, not setting ready state.")}catch(e){console.error("[FirebaseAppCheckProvider] Error during App Check initialization in provider:",e),i(!1)}},[]),(0,r.jsx)(o.Provider,{value:{isAppCheckReady:t},children:a})}},8126:(e,a)=>{"use strict";function t(){return null}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return t}}),("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},8549:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.t.bind(t,3063,23)),Promise.resolve().then(t.bind(t,6368)),Promise.resolve().then(t.bind(t,4565))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,349,611,565,441,684,358],()=>a(8549)),_N_E=e.O()}]);