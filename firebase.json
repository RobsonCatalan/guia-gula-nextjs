{
  "functions": {
    "source": "functions",
    "predeploy": [
      "powershell -Command \"Remove-Item -Recurse -Force .next -ErrorAction SilentlyContinue\"",
      "powershell -Command \"Remove-Item -Recurse -Force functions/.next -ErrorAction SilentlyContinue\"",
      "powershell -Command \"Remove-Item -Recurse -Force functions/public -ErrorAction SilentlyContinue\"",
      "npm run build",
      "powershell -Command \"Remove-Item '.next/trace' -Force -ErrorAction SilentlyContinue\"",
      "powershell -Command \"Copy-Item './.next' 'functions/.next' -Recurse -Force\"",
      "powershell -Command \"Copy-Item './public' 'functions/public' -Recurse -Force\""
    ]
  },
  "hosting": {
    "public": "public/",
    "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
    "rewrites": [
      { "source": "**", "function": "ssr" }
    ]
  }
}
